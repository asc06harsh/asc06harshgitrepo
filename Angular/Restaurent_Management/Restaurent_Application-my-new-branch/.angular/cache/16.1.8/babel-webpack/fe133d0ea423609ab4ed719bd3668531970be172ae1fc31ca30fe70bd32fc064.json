{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, ViewChild } from '@angular/core';\nimport { RestaurentData } from './restaurent.model';\nlet RestaurentDashComponent = class RestaurentDashComponent {\n  constructor(formbuilder, api) {\n    this.formbuilder = formbuilder;\n    this.api = api;\n    this.restaurentModelObj = new RestaurentData();\n  }\n  ngOnInit() {\n    this.formValue = this.formbuilder.group({\n      name: [''],\n      email: [''],\n      mobile: [''],\n      address: [''],\n      services: ['']\n    });\n    this.getAllData();\n  }\n  clickAddResto() {\n    this.formValue.reset();\n    this.showAdd = true;\n    this.showBtn = false;\n  }\n  addRestaurent() {\n    this.restaurentModelObj = {\n      ...this.formValue.value\n    };\n    this.api.postRestaurent(this.restaurentModelObj).subscribe(res => {\n      alert(\"Restaurant Added Successfully\");\n      this.formValue.reset();\n      this.closeButton.nativeElement.click(); // Close modal\n      this.getAllData();\n    }, err => {\n      console.log(err);\n      alert(\"Failed to add restaurant!\");\n    });\n  }\n  getAllData() {\n    this.api.getRestaurent().subscribe(res => {\n      this.allRestaurentData = res;\n    }, err => {\n      console.log(err);\n    });\n  }\n  deleteResto(id) {\n    this.api.deleteRestaurant(id).subscribe(res => {\n      alert(\"Restaurant Deleted Successfully\");\n      this.getAllData();\n    }, err => {\n      console.log(err);\n    });\n  }\n  onEditResto(data) {\n    this.showAdd = false;\n    this.showBtn = true;\n    this.restaurentModelObj.id = data.id;\n    this.formValue.patchValue(data);\n  }\n  updateResto() {\n    this.restaurentModelObj = {\n      ...this.restaurentModelObj,\n      ...this.formValue.value\n    };\n    this.api.updateRestaurant(this.restaurentModelObj.id, this.restaurentModelObj).subscribe(res => {\n      alert(\"Restaurant Updated Successfully\");\n      this.formValue.reset();\n      this.closeButton.nativeElement.click(); // Close modal\n      this.getAllData();\n    }, err => {\n      console.log(err);\n    });\n  }\n};\n__decorate([ViewChild('closeButton')], RestaurentDashComponent.prototype, \"closeButton\", void 0);\nRestaurentDashComponent = __decorate([Component({\n  selector: 'app-restaurent-dash',\n  templateUrl: './restaurent-dash.component.html',\n  styleUrls: ['./restaurent-dash.component.css']\n})], RestaurentDashComponent);\nexport { RestaurentDashComponent };","map":{"version":3,"names":["Component","ViewChild","RestaurentData","RestaurentDashComponent","constructor","formbuilder","api","restaurentModelObj","ngOnInit","formValue","group","name","email","mobile","address","services","getAllData","clickAddResto","reset","showAdd","showBtn","addRestaurent","value","postRestaurent","subscribe","res","alert","closeButton","nativeElement","click","err","console","log","getRestaurent","allRestaurentData","deleteResto","id","deleteRestaurant","onEditResto","data","patchValue","updateResto","updateRestaurant","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\harsh.gade\\OneDrive - ascendion\\Desktop\\TRAINING\\Restaurent_Management\\Restaurent_Application-my-new-branch\\src\\app\\restaurent-dash\\restaurent-dash.component.ts"],"sourcesContent":["import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { UntypedFormGroup, UntypedFormBuilder } from '@angular/forms';\nimport { ApiService } from '../shared/api.service';\nimport { RestaurentData } from './restaurent.model';\n\n@Component({\n  selector: 'app-restaurent-dash',\n  templateUrl: './restaurent-dash.component.html',\n  styleUrls: ['./restaurent-dash.component.css']\n})\nexport class RestaurentDashComponent implements OnInit {\n  formValue!: UntypedFormGroup;\n  restaurentModelObj: RestaurentData = new RestaurentData();\n  allRestaurentData: any;\n  showAdd!: boolean;\n  showBtn!: boolean;\n\n  @ViewChild('closeButton') closeButton!: ElementRef;\n\n  constructor(private formbuilder: UntypedFormBuilder, private api: ApiService) { }\n\n  ngOnInit(): void {\n    this.formValue = this.formbuilder.group({\n      name: [''],\n      email: [''],\n      mobile: [''],\n      address: [''],\n      services: [''],\n    });\n    this.getAllData();\n  }\n\n  clickAddResto() {\n    this.formValue.reset();\n    this.showAdd = true;\n    this.showBtn = false;\n  }\n\n  addRestaurent() {\n    this.restaurentModelObj = { ...this.formValue.value };\n\n    this.api.postRestaurent(this.restaurentModelObj).subscribe(res => {\n      alert(\"Restaurant Added Successfully\");\n      this.formValue.reset();\n      this.closeButton.nativeElement.click(); // Close modal\n      this.getAllData();\n    }, err => {\n      console.log(err);\n      alert(\"Failed to add restaurant!\");\n    });\n  }\n\n  getAllData() {\n    this.api.getRestaurent().subscribe(res => {\n      this.allRestaurentData = res;\n    }, err => {\n      console.log(err);\n    });\n  }\n\n  deleteResto(id: any) {\n    this.api.deleteRestaurant(id).subscribe(res => {\n      alert(\"Restaurant Deleted Successfully\");\n      this.getAllData();\n    }, err => {\n      console.log(err);\n    });\n  }\n\n  onEditResto(data: any) {\n    this.showAdd = false;\n    this.showBtn = true;\n    \n    this.restaurentModelObj.id = data.id;\n    this.formValue.patchValue(data);\n  }\n\n  updateResto() {\n    this.restaurentModelObj = { ...this.restaurentModelObj, ...this.formValue.value };\n\n    this.api.updateRestaurant(this.restaurentModelObj.id, this.restaurentModelObj).subscribe(res => {\n      alert(\"Restaurant Updated Successfully\");\n      this.formValue.reset();\n      this.closeButton.nativeElement.click(); // Close modal\n      this.getAllData();\n    }, err => {\n      console.log(err);\n    });\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}